diff --git a/Android.mk b/Android.mk
index d3fe4a4..b9a3dff 100644
--- a/Android.mk
+++ b/Android.mk
@@ -1,7 +1,7 @@
 # Included by top-level Android.mk
-
-SERVAL_BASE=serval-dna/
-include jni/serval-dna/sourcefiles.mk
+LOCAL_PATH:= $(call my-dir)
+SERVAL_BASE=
+include external/serval-dna/sourcefiles.mk
 SERVALD_SRC_FILES = $(SERVAL_SOURCES) $(ANDROIDONLY_SOURCES)
 
 SERVALD_LOCAL_CFLAGS = \
@@ -27,7 +27,7 @@ SERVALD_LOCAL_STATIC_LIBRARIES = sqlite3 nacl
 # Build NACL
 include $(CLEAR_VARS)
 # Work out where NACL is
-NACL_BASE=serval-dna/nacl/src
+NACL_BASE=nacl/src
 NACL_INC=$(LOCAL_PATH)/$(NACL_BASE)/../include
 # Find sources
 include $(LOCAL_PATH)/$(NACL_BASE)/nacl.mk
@@ -39,19 +39,20 @@ include $(BUILD_STATIC_LIBRARY)
 # Build libservald.so
 include $(CLEAR_VARS)
 # Find SQLITE3 headers
-SQLITE3_INC=$(LOCAL_PATH)/sqlite3
+SQLITE3_INC=$(LOCAL_PATH)/../sqlite3
 # Get the list of sources
-include $(LOCAL_PATH)/serval-dna/nacl/src/nacl.mk
+include $(LOCAL_PATH)/nacl/src/nacl.mk
 LOCAL_SRC_FILES:= $(SERVALD_SRC_FILES) $(SERVAL_BASE)version_servald.c
 LOCAL_CFLAGS += $(SERVALD_LOCAL_CFLAGS) -Iserval-dna/nacl/include
 LOCAL_LDLIBS := $(SERVALD_LOCAL_LDLIBS)
 LOCAL_STATIC_LIBRARIES := $(SERVALD_LOCAL_STATIC_LIBRARIES)
+LOCAL_MODULE_FILENAME:=libservald
 LOCAL_MODULE:= serval
 include $(BUILD_SHARED_LIBRARY)
 
 # Build libserval.so wrapper
 include $(CLEAR_VARS)
-LOCAL_SRC_FILES:= serval-dna/servalwrap.c
+LOCAL_SRC_FILES:= $(SERVAL_BASE)servalwrap.c
 LOCAL_MODULE:= servald
 include $(BUILD_EXECUTABLE)
 
